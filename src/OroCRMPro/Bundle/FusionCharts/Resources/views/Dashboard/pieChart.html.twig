{% extends 'OroDashboardBundle:Dashboard:chartWidget.html.twig' %}

{#
    Variables:
        data - should be an array contains 'fraction' and 'label' values in each row
               also you can build chart data in nested template by overriding 'data' block
#}
{% block content %}

{% set hasData = false %}
{% for source in data %}
    {% if source.itemCount and source.itemCount > 0 %}
        {% set hasData = true %}
    {% endif %}
{% endfor %}

{% if hasData %}
    <div class="chart-container">
        <div class="clearfix">
            <div id="{{ widgetId }}-chart" class="pie-chart chart pull-left"></div>
            <div id="{{ widgetId }}-legend" class="pie-chart-legend chart-legend pull-left"></div>
        </div>
    </div>

    <script type="text/javascript"></script>
{% else %}
    <div class="clearfix no-data">
        <span>{{ 'oro.dashboard.no_data_found'|trans }}</span>
    </div>
{% endif %}

{% endblock %}
