parameters:
    oro_ews.connector.class:                         OroProfessional\Bundle\EwsBundle\Connector\EwsConnector
    oro_ews.services.class:                          OroProfessional\Bundle\EwsBundle\Ews\ExchangeWebServices
    oro_ews.search_query.builder.class:              OroProfessional\Bundle\EwsBundle\Connector\SearchQueryBuilder
    oro_ews.search_query.state.class:                OroProfessional\Bundle\EwsBundle\Connector\SearchQuery
    oro_ews.search_query.query_string.builder.class: OroProfessional\Bundle\EwsBundle\Connector\QueryStringBuilder
    oro_ews.search_query.restriction.builder.class:  OroProfessional\Bundle\EwsBundle\Connector\RestrictionBuilder

services:
    oro_ews.connector:
        class: %oro_ews.connector.class%
        arguments:
            - @oro_ews.services
    oro_ews.services:
        public: false
        class: %oro_ews.services.class%
        arguments: # TODO: use ConfigurationBundle to get server, username and password
            - %oro_ews.wsdl_endpoint% # wsdlFile
            - mail.orolab.net         # server
            - Administrator           # username
            - Win2008ServDc           # password
            - Exchange2010            # Exchange version
            - false                   # ignoreFailedResponseMessages
    oro_ews.search_query.builder:
        scope: prototype
        class: %oro_ews.search_query.builder.class%
        arguments:
            - @oro_ews.search_query.state
    oro_ews.search_query.state:
        public: false
        scope: prototype
        class: %oro_ews.search_query.state.class%
        arguments:
            - @oro_ews.search_query.query_string.builder
            - @oro_ews.search_query.restriction.builder
    oro_ews.search_query.query_string.builder:
        public: false
        class: %oro_ews.search_query.query_string.builder.class%
    oro_ews.search_query.restriction.builder:
        public: false
        class: %oro_ews.search_query.restriction.builder.class%
