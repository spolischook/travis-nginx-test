{% block _requirejs_widget %}
    {% set requirejs_config_extend %}
        {%- placeholder requirejs_config_extend -%}
    {% endset %}
    {% include 'OroRequireJSBundle::scripts.html.twig' with {
        compressed: not app.debug,
        config_extend: requirejs_config_extend
    } %}
{% endblock %}

{% block _wrapper_widget %}
    {% set attr = attr|merge({
        class: attr.class|default('') ~ " wrapper"
    }) %}
    <div{{ block('block_attributes') }}>
        {{ block_widget(block) }}
    </div>
{% endblock %}

{% block _header_widget %}
    <header{{ block('block_attributes') }}>
        {{ block_widget(block) }}
    </header>
{% endblock %}

{% block _main_widget %}
    {% set attr = attr|merge({
        class: attr.class|default('') ~ " main"
    }) %}
    <main{{ block('block_attributes') }}>
        {{ block_widget(block) }}
    </main>
{% endblock %}

{% block _content_widget %}
    {% set attr = attr|merge({
        class: attr.class|default('') ~ " content"
    }) %}
    <div{{ block('block_attributes') }}>
        <div class="content__container">
            <div class="container-fluid">
                <div class="content__inner">
                    {{ block_widget(block) }}
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block _footer_widget %}
    {% set attr = attr|merge({
        class: attr.class|default('') ~ " footer"
    }) %}
    <footer{{ block('block_attributes') }}>
        <div class="container-fluid">
            {{ block_widget(block) }}
        </div>
    </footer>
{% endblock %}

{% block _notification_widget %}
    {% if app.session.flashbag.peekAll|length > 0 %}
        {% set attr = {
            id: 'flash-messages'
        }|merge(attr)|merge({
            class: attr.class|default('') ~ " notification notification_notice notification_lg"
        }) %}
        <div{{ block('block_attributes') }}></div>
        <script type="text/template" id="message-item-template">
            <div class="container-fluid">
                <span class="badge badge_sm_xs badge_notice"><i class="icon-check"></i></span>
                <span class="fs16 ml1-md ml1-sm"><%= message %></span>
            </div>
        </script>
        <script type="text/javascript">
            require(['jquery', 'oroui/js/messenger'],
                function($, messenger) {
                    messenger.setup({
                        container: '#{{ attr.id }}',
                        template: _.template($.trim($('#message-item-template').html()))
                    });
                    $(function() {
                        {% for type, messages in app.session.flashbag.all %}
                            {% for message in messages %}
                                messenger.notificationFlashMessage({{ type|json_encode|raw }}, {{ message|trans|json_encode|raw }});
                            {% endfor %}
                        {% endfor %}
                    });
                });
        </script>
    {% endif %}
{% endblock %}

{% block form_field_widget %}
    {% set attr = {} %}
    {% set label_attr = {} %}
    {% if class_prefix %}
        {% set attr = form.vars.attr|merge({
            class: form.vars.attr.class|default('') ~ " " ~ class_prefix ~ "__form__input"
        }) %}
        {% set label_attr = form.vars.label_attr|merge({
            class: form.vars.label_attr.class|default('') ~ " " ~ class_prefix ~ "__form__label"
        }) %}
    {% endif %}
    <fieldset class="{{ class_prefix }}__form__row">
        <div class="{{ class_prefix }}__form__col form__col_x12">
            {{ form_row(form, {
                attr: attr,
                label_attr: label_attr
            }) }}
        </div>
    </fieldset>
{% endblock %}
