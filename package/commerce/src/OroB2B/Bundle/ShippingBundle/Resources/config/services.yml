parameters:
    orob2b_shipping.model.shipping_origin.class: OroB2B\Bundle\ShippingBundle\Model\ShippingOrigin
    orob2b_shipping.entity.shipping_origin_warehouse.class: OroB2B\Bundle\ShippingBundle\Entity\ShippingOriginWarehouse
    orob2b_shipping.entity.length_unit.class: OroB2B\Bundle\ShippingBundle\Entity\LengthUnit
    orob2b_shipping.entity.freight_class.class: OroB2B\Bundle\ShippingBundle\Entity\FreightClass
    orob2b_shipping.entity.weight_unit.class: OroB2B\Bundle\ShippingBundle\Entity\WeightUnit
    orob2b_shipping.entity.product_shipping_options.class: OroB2B\Bundle\ShippingBundle\Entity\ProductShippingOptions

services:
    orob2b_shipping.factory.shipping_origin_model_factory:
        class: OroB2B\Bundle\ShippingBundle\Factory\ShippingOriginModelFactory
        arguments:
            - '@oro_entity.doctrine_helper'

    orob2b_shipping.event_listener.config.shipping_origin:
        class: OroB2B\Bundle\ShippingBundle\EventListener\Config\ShippingOriginEventListener
        arguments:
            - '@orob2b_shipping.factory.shipping_origin_model_factory'
        tags:
            - { name: kernel.event_listener, event: oro_config.settings_form_preset, method: formPreSet }
            - { name: kernel.event_listener, event: oro_config.settings_before_save, method: beforeSave }

    orob2b_shipping.shipping_origin.provider:
        class: OroB2B\Bundle\ShippingBundle\Provider\ShippingOriginProvider
        arguments:
            - '@oro_entity.doctrine_helper'
            - '@oro_config.global'
            - '@orob2b_shipping.factory.shipping_origin_model_factory'

    orob2b_shipping.event_listener.form_view:
        class: OroB2B\Bundle\ShippingBundle\EventListener\FormViewListener
        arguments:
            - '@translator'
            - '@oro_entity.doctrine_helper'
            - '@orob2b_shipping.shipping_origin.provider'
            - '@request_stack'
        tags:
            - { name: kernel.event_listener, event: oro_ui.scroll_data.before.warehouse-view, method: onWarehouseView }
            - { name: kernel.event_listener, event: oro_ui.scroll_data.before.warehouse-edit, method: onWarehouseEdit }

    orob2b_shipping.event_listener.product_shipping_options_datagrid:
        class: 'OroB2B\Bundle\ShippingBundle\EventListener\Datagrid\ProductShippingOptionsDatagridListener'
        arguments:
            - '@translator'
            - '@oro_entity.doctrine_helper'
        calls:
            - [setProductShippingOptionsClass, ['%orob2b_shipping.entity.product_shipping_options.class%']]
        tags:
            - { name: kernel.event_listener, event: oro_datagrid.datagrid.build.before.products-grid, method: onBuildBefore }
            - { name: kernel.event_listener, event: oro_datagrid.orm_datasource.result.after.products-grid, method: onResultAfter }
