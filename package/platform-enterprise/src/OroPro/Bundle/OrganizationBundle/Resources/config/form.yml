parameters:
    # override community organizations_select form type
    oro_organization.form.type.organizations_select.class:        OroPro\Bundle\OrganizationBundle\Form\Type\OrganizationsProSelectType
    oro_organization.form.type.organization.class:                OroPro\Bundle\OrganizationBundle\Form\Type\OrganizationProType

    oropro_organization.form.handler.organization.class:          OroPro\Bundle\OrganizationBundle\Form\Handler\OrganizationProHandler
    oropro_organization.form.type.organization_config_type.class: OroPro\Bundle\OrganizationBundle\Form\Type\OrganizationConfigType

    oropro_organization.form.type.organization_choice.class: OroPro\Bundle\OrganizationBundle\Form\Type\OrganizationChoiceType
    oropro_organization.form.type.is_global.class: OroPro\Bundle\OrganizationBundle\Form\Type\IsGlobalType
    oropro_organization.form.type.organization_label.class: OroPro\Bundle\OrganizationBundle\Form\Type\OrganizationLabelType

    oropro_organization.form.eventlistener.organization_field.class: OroPro\Bundle\OrganizationBundle\Form\EventListener\OrganizationFieldListener

services:
    oropro_organization.form.type.organization_config_type:
        class: %oropro_organization.form.type.organization_config_type.class%
        arguments:
            - "@doctrine"
        tags:
            - { name: form.type, alias: oro_type_choice_organization_type }

    oropro_organization.form.type.organization_choice:
        class: %oropro_organization.form.type.organization_choice.class%
        arguments:
            - "@oro_security.security_facade"
            - "@oro_entity_config.config_manager"
        tags:
            - { name: form.type, alias: oro_organization_choice_select2 }

    oropro_organization.form.type.is_global:
        class: %oropro_organization.form.type.is_global.class%
        arguments:
            - "@oropro_organization.helper"
        tags:
            - { name: form.type, alias: oropro_organization_is_global }

    oropro_organization.form.type.organization_label:
        class: %oropro_organization.form.type.organization_label.class%
        tags:
            - { name: form.type, alias: oropro_organization_label }

    oropro_organization.form.eventlistener.organization_field:
        class: %oropro_organization.form.eventlistener.organization_field.class%
        arguments:
            - "@oro_entity_config.config_manager"
            - "@oro_security.security_facade"
        tags:
            - { name: kernel.event_listener, event: entity_form.render.before, method: addOrganizationField }

    oropro_organization.form.handler.organization:
        class: %oropro_organization.form.handler.organization.class%
        scope: request
        arguments:
            - "@oro_organization.form.organization"
            - "@request"
            - "@doctrine.orm.entity_manager"
            - "@security.context"
            - "@orocrm_channel.provider.state_provider"

